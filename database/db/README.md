
# Запросы и логика

## Запросы

### Базовые задачи

#### /imports

Импортирует новые товары и/или категории. Товары/категории импортированные повторно обновляют текущие. Изменение типа элемента с товара на категорию или с категории на товар не допускается. Порядок элементов в запросе является произвольным.

- [x] uuid товара или категории является уникальным среди товаров и категорий
- [x] родителем товара или категории может быть только категория
- [x] принадлежность к категории определяется полем parentId
- [ ] товар или категория могут не иметь родителя (при обновлении parentId на null, элемент остается без родителя)
- [x] название элемента не может быть null
- [x] у категорий поле price должно содержать null
- [x] цена товара не может быть null и должна быть больше либо равна нулю.
- [x] при обновлении товара/категории обновленными считаются **все** их параметры
- [x] при обновлении параметров элемента обязательно обновляется поле **date** в соответствии с временем обновления
- [x] в одном запросе не может быть двух элементов с одинаковым id
- [x] дата должна обрабатываться согласно ISO 8601 (такой придерживается OpenAPI). Если дата не удовлетворяет данному формату, необходимо отвечать 400.

#### /delete

#### /nodes/{id}

### Дополнительные задачи

#### /sales

#### /node/{id}/statistic